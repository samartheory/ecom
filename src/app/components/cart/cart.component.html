<div class="container">
    <div class="row">
        <div class="col-4 mt-4 title">
            Cart
        </div>
    </div>
    <div class="row mt-2" *ngIf="addToCart.getTotalItemsInCart(allProducts) > 0 else isEmpty">
        <table class="table">    
            <thead>
                <tr>
                    <th scope="col">Image</th>
                    <th scope="col">Name</th>
                    <th scope="col">Price</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Total</th>
                    <!-- <th scope="col"></th> -->
                </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of inCart">
                <!-- <tr class="d-flex gap-3 justify-content-lg-start" #itemCard> -->
                    <td>
                        <img src="{{item.thumbnail}}" class="img-fluid img-aspect" alt="...">
                    </td>
                    <!-- <div> -->
                        <td #title>
                            {{item.title}}
                        </td>
                        <td>
                            ₹{{commas(item.price)}}
                        </td>
                        <td>
                            quantity
                        </td>
                        <td>
                            ₹ price x quantity
                        </td>
                    <!-- </div> -->
                    <td>
                    <div class="input-group align-content-around">
                        <button type="button" class="btn btn-secondary" (click)="decreaseQuantity(item.id)">-</button>
                        <input type="number" class="form-control" [value]="addToCart.getQuantity(item.id)"
                            (change)="updateQuantity(item.id,quantitySpy)" #quantitySpy>
                        <button type="button" class="btn btn-secondary" (click)="increaseQuantity(item.id)">+</button>
                        <button type="button" class="btn btn-danger" (click)="removeItem(item.id)"><span
                                class="mdi mdi-trash-can-outline"></span></button>
                    </div>
                    </td>
                <!-- </tr> -->
            </tr> 
            </tbody>
        </table>
        <div class="d-flex">
            <button type="button" class="btn btn-primary btn-sm mt-3" (click)="clearCart()">Clear Cart</button>
            <button type="button" class="btn btn-primary btn-sm mt-3 ms-2" (click)="placeOrder()">Place Order</button>
        </div>
    </div>

    <div class="row mt-3 summary" *ngIf="addToCart.getTotalItemsInCart(allProducts) > 0">
        <table>
            <thead>
                <tr>
                    <th scope="col">Price</th>
                    <th scope="col">Quantity</th>
                  </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of inCart">
                    <td>₹{{commas(item.price)}}</td>
                    <td>{{itemQuantity(item.id)}}</td>
                </tr>
                <tr>
                    <td #total>Total</td>
                    <td>₹{{commas(totalPrice)}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<ng-template #isEmpty>
    <div id="emptyText"><i class="mdi mdi-robot-happy-outline"></i>Add Some Items!</div>
</ng-template>